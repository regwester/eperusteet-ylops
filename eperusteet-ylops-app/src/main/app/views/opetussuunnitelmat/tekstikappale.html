<div class="action-buttons-inline" ng-hide="editMode">
  <button ng-disabled="lukkotiedot.lukittu" ng-if="canRemove()" class="btn btn-default" kaanna="'poista'" icon-role="remove" ng-click="remove()" oikeustarkastelu="{ target: 'opetussuunnitelma', permission: 'muokkaus' }"></button>
</div>

<h2 class="tekstikappale-title">
  <span ng-if="editMode && canRemove()">
    <input ng-model="model.tekstiKappale.nimi" slocalized class="form-control" placeholder="{{'kappaleen-otsikko'|kaanna}}">
  </span>
  <span ng-if="!editMode || !canRemove()" ng-bind="model.tekstiKappale.nimi | kaanna"></span>
</h2>


<div ng-if="ohje.teksti" class="ohje-wrapper">
  <h4><span kaanna="'ohjeistus'"></span></h4>
  <div class="tekstiosa-wrapper">
    <div class="tekstiosa single perusteen-teksti">
      <a class="toggle-perusteen-teksti" ng-click="options.ohjeistusCollapsed = !options.ohjeistusCollapsed">
        <span class="glyphicon" ng-class="{'glyphicon-chevron-down': !options.ohjeistusCollapsed, 'glyphicon-chevron-right': options.ohjeistusCollapsed}"></span>
        <span ng-bind="options.ohjeistusCollapsed && 'nayta' || 'piilota' | kaanna"></span>
      </a>
      <div class="ohjeellinen ikoni-ohjeistus" ng-class="{collapsed: options.ohjeistusCollapsed}">
        <div class="teksti" collapse="options.ohjeistusCollapsed" ng-bind-html="ohje.teksti | kaanna | unsafe"></div>
      </div>
    </div>
  </div>
</div>

<div ng-if="perusteteksti.teksti" class="ohje-wrapper">
  <h4><span kaanna="'perusteen-teksti'"></span></h4>
  <div class="tekstiosa-wrapper">
    <div class="tekstiosa single perusteen-teksti">
      <a class="toggle-perusteen-teksti" ng-click="options.perusteentekstiCollapsed = !options.perusteentekstiCollapsed">
        <span class="glyphicon" ng-class="{'glyphicon-chevron-down': !options.perusteentekstiCollapsed, 'glyphicon-chevron-right': options.perusteentekstiCollapsed}"></span>
        <span ng-bind="options.perusteentekstiCollapsed && 'nayta' || 'piilota' | kaanna"></span>
      </a>
      <div class="ohjeellinen ikoni-peruste" ng-class="{collapsed: options.perusteentekstiCollapsed}">
        <div class="teksti" collapse="options.perusteentekstiCollapsed" ng-bind-html="perusteteksti.teksti | kaanna | unsafe"></div>
      </div>
    </div>
  </div>
</div>

<div class="panel-clear-fix tekstiosa single">
  <div class="action-buttons-inline" ng-hide="editMode">
    <lukko ng-if="lukkotiedot.lukittu" tip="lukkotiedot.tip"></lukko>
    <button ng-disabled="lukkotiedot.lukittu" class="btn btn-default" kaanna="'muokkaa'" icon-role="edit" ng-click="edit()" oikeustarkastelu="{ target: 'opetussuunnitelma', permission: 'muokkaus' }"></button>
  </div>

  <h4><span kaanna="'opsin-teksti'"></span></h4>

  <div ng-if="editMode">
    <div id="ops-ckeditor" ckeditor class="bigger" ng-model="model.tekstiKappale.teksti" slocalized></div>
  </div>
  <div ng-if="!editMode">
    <div ng-bind-html="model.tekstiKappale.teksti | kaanna | unsafe"></div>
    <p class="empty-notice" ng-show="!model.tekstiKappale.teksti" kaanna="'ei-paikallista-sisaltoa'"></p>
  </div>

</div>

<kommentit></kommentit>
